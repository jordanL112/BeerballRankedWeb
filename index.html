
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Beerball Leaderboard</title>

<style>
body {
  background:#0f0f0f;
  color:white;
  font-family:Arial, sans-serif;
  margin:20px;
}

.rank-cell {
  display: flex;
  align-items: center;
  gap: 10px;
  justify-content: center;
}

.rank-icon {
  width: 34px;
  height: 34px;
}

h1 {
  text-align:center;
}

table {
  width:100%;
  border-collapse:collapse;
}

th, td {
  padding:10px;
  border-bottom:1px solid #333;
  text-align:center;
}

th {
  position:sticky;
  top:0;
  background:#000;
}

tr:hover {
  background:#222;
}
</style>
</head>

<body>

<h1>üç∫ Beerball Leaderboard</h1>

<table>
<thead>
<tr>
  <th>Rank</th>
  <th>Name</th>
  <th>Tier</th>
  <th>ELO</th>
  <th>Games</th>
  <th>W</th>
  <th>L</th>
  <th>Win %</th>
  <th>Team</th>
  <th>Clan</th>
</tr>
</thead>
<tbody id="board"></tbody>
</table>

<script>

function tierToIcon(tier) {
  if (tier.startsWith("Godly")) return "icons/godly.png";
  if (tier.startsWith("Master")) return "icons/master.png";
  if (tier.startsWith("Diamond")) return "icons/diamond.png";
  if (tier.startsWith("Platinum")) return "icons/platinum.png";
  if (tier.startsWith("Gold")) return "icons/gold.png";
  if (tier.startsWith("Silver")) return "icons/silver.png";
  return "icons/bronze.png";
}

fetch("leaderboard.json")
  .then(r => r.json())
  .then(data => {
    const tbody = document.getElementById("board");
    data.forEach(p => {
	let winPct = p.games > 0 ? ((p.wins / p.games) * 100).toFixed(1) + "%" : "0.0%";
      const row = document.createElement("tr");
     row.innerHTML = `
 	 <td class="rank-cell">
   	 <span>${p.rank}</span>
   	 <img class="rank-icon" src="${tierToIcon(p.tier)}">
 	 </td>
 	 <td>${p.name}</td>
 	 <td>${p.tier}</td>
 	 <td>${p.elo}</td>
 	 <td>${p.games}</td>
 	 <td>${p.wins}</td>
 	 <td>${p.losses}</td>
 	 <td>${winPct}</td>
 	 <td>${p.team || ""}</td>
 	 <td>${p.clan || ""}</td>
	`;

      tbody.appendChild(row);
    });
  });
</script>

</body>
</html>
